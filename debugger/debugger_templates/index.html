<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARC Debugger - Graph Viewer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            padding: 20px;
        }

        .main-container {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            gap: 20px;
        }

        .left-content {
            flex: 1;
            min-width: 0;
        }

        .right-sidebar {
            width: 20%;
            min-width: 250px;
        }

        .header {
            background: white;
            border-radius: 8px;
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            margin-bottom: 15px;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }

        .title-section {
            flex-shrink: 0;
        }

        h1 {
            color: #333;
            font-size: 24px;
            margin-bottom: 2px;
        }

        .subtitle {
            color: #666;
            font-size: 12px;
        }

        .controls-section {
            display: flex;
            gap: 15px;
            align-items: center;
            flex: 1;
        }

        .form-inline {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        label {
            font-weight: 600;
            color: #333;
            font-size: 14px;
            white-space: nowrap;
        }

        select {
            width: 200px;
            padding: 6px 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            background: white;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        select:hover {
            border-color: #4a90e2;
        }

        select:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.1);
        }

        button {
            padding: 6px 18px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: #4a90e2;
            color: white;
        }

        .btn-primary:hover {
            background: #357abd;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(74, 144, 226, 0.3);
        }

        .btn-step {
            background: #e74c3c;
            color: white;
        }

        .btn-step:hover {
            background: #c0392b;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(231, 76, 60, 0.3);
        }

        .graph-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }

        .graph-header {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f0f0f0;
        }

        iframe {
            width: 100%;
            height: 600px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
        }

        .data-output {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            height: calc(100vh - 40px);
            position: sticky;
            top: 20px;
            display: flex;
            flex-direction: column;
        }

        .data-header {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f0f0f0;
            flex-shrink: 0;
        }

        .data-content {
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            background: #f8f9fa;
            padding: 12px;
            border-radius: 6px;
            color: #333;
            font-size: 12px;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-y: auto;
            flex: 1;
        }

        .empty-state {
            color: #999;
            font-style: italic;
            text-align: center;
            padding: 20px;
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .main-container {
                flex-direction: column;
            }

            .right-sidebar {
                width: 100%;
            }

            .data-output {
                height: auto;
                max-height: 400px;
                position: static;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }

            .controls-section {
                width: 100%;
                flex-direction: column;
                align-items: stretch;
            }

            .form-inline {
                flex-direction: column;
                align-items: stretch;
            }

            select {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="left-content">
            <div class="header">
                <div class="header-content">
                    <div class="title-section">
                        <h1>ARC Debugger</h1>
                        <p class="subtitle">Visual graph debugger</p>
                    </div>

                    <div class="controls-section">
                        <form action="/" method="post" class="form-inline">
                            <label for="challenge_id">Challenge:</label>
                            <select id="challenge_id" name="challenge_id" required>
                                <option value="">Select...</option>
                                <option value="007bbfb7" {% if challenge_id == "007bbfb7" %}selected{% endif %}>007bbfb7</option>
                                <option value="00d62c1b" {% if challenge_id == "00d62c1b" %}selected{% endif %}>00d62c1b</option>
                                <option value="017c7c7b" {% if challenge_id == "017c7c7b" %}selected{% endif %}>017c7c7b</option>
                                <option value="025d127b" {% if challenge_id == "025d127b" %}selected{% endif %}>025d127b</option>
                                <option value="045e512c" {% if challenge_id == "045e512c" %}selected{% endif %}>045e512c</option>
                                <option value="0520fde7" {% if challenge_id == "0520fde7" %}selected{% endif %}>0520fde7</option>
                                <option value="05269061" {% if challenge_id == "05269061" %}selected{% endif %}>05269061</option>
                                <option value="05f2a901" {% if challenge_id == "05f2a901" %}selected{% endif %}>05f2a901</option>
                                <option value="06df4c85" {% if challenge_id == "06df4c85" %}selected{% endif %}>06df4c85</option>
                                <option value="08ed6ac7" {% if challenge_id == "08ed6ac7" %}selected{% endif %}>08ed6ac7</option>
                                <option value="0962bcdd" {% if challenge_id == "0962bcdd" %}selected{% endif %}>0962bcdd</option>
                                <option value="0a938d79" {% if challenge_id == "0a938d79" %}selected{% endif %}>0a938d79</option>
                                <option value="0b148d64" {% if challenge_id == "0b148d64" %}selected{% endif %}>0b148d64</option>
                                <option value="0ca9ddb6" {% if challenge_id == "0ca9ddb6" %}selected{% endif %}>0ca9ddb6</option>
                                <option value="0d3d703e" {% if challenge_id == "0d3d703e" %}selected{% endif %}>0d3d703e</option>
                                <option value="0dfd9992" {% if challenge_id == "0dfd9992" %}selected{% endif %}>0dfd9992</option>
                                <option value="10fcaaa3" {% if challenge_id == "10fcaaa3" %}selected{% endif %}>10fcaaa3</option>
                                <option value="11852cab" {% if challenge_id == "11852cab" %}selected{% endif %}>11852cab</option>
                                <option value="1190e5a7" {% if challenge_id == "1190e5a7" %}selected{% endif %}>1190e5a7</option>
                                <option value="137eaa0f" {% if challenge_id == "137eaa0f" %}selected{% endif %}>137eaa0f</option>
                                <option value="178fcbfb" {% if challenge_id == "178fcbfb" %}selected{% endif %}>178fcbfb</option>
                                <option value="1a07d186" {% if challenge_id == "1a07d186" %}selected{% endif %}>1a07d186</option>
                                <option value="1b2d62fb" {% if challenge_id == "1b2d62fb" %}selected{% endif %}>1b2d62fb</option>
                                <option value="1b60fb0c" {% if challenge_id == "1b60fb0c" %}selected{% endif %}>1b60fb0c</option>
                                <option value="1bfc4729" {% if challenge_id == "1bfc4729" %}selected{% endif %}>1bfc4729</option>
                                <option value="1c786137" {% if challenge_id == "1c786137" %}selected{% endif %}>1c786137</option>
                                <option value="1caeab9d" {% if challenge_id == "1caeab9d" %}selected{% endif %}>1caeab9d</option>
                                <option value="1cf80156" {% if challenge_id == "1cf80156" %}selected{% endif %}>1cf80156</option>
                                <option value="1e0a9b12" {% if challenge_id == "1e0a9b12" %}selected{% endif %}>1e0a9b12</option>
                                <option value="1e32b0e9" {% if challenge_id == "1e32b0e9" %}selected{% endif %}>1e32b0e9</option>
                                <option value="1f0c79e5" {% if challenge_id == "1f0c79e5" %}selected{% endif %}>1f0c79e5</option>
                                <option value="1f642eb9" {% if challenge_id == "1f642eb9" %}selected{% endif %}>1f642eb9</option>
                                <option value="1f85a75f" {% if challenge_id == "1f85a75f" %}selected{% endif %}>1f85a75f</option>
                                <option value="1f876c06" {% if challenge_id == "1f876c06" %}selected{% endif %}>1f876c06</option>
                                <option value="1fad071e" {% if challenge_id == "1fad071e" %}selected{% endif %}>1fad071e</option>
                                <option value="2204b7a8" {% if challenge_id == "2204b7a8" %}selected{% endif %}>2204b7a8</option>
                                <option value="22168020" {% if challenge_id == "22168020" %}selected{% endif %}>22168020</option>
                                <option value="22233c11" {% if challenge_id == "22233c11" %}selected{% endif %}>22233c11</option>
                                <option value="2281f1f4" {% if challenge_id == "2281f1f4" %}selected{% endif %}>2281f1f4</option>
                                <option value="228f6490" {% if challenge_id == "228f6490" %}selected{% endif %}>228f6490</option>
                                <option value="22eb0ac0" {% if challenge_id == "22eb0ac0" %}selected{% endif %}>22eb0ac0</option>
                                <option value="23581191" {% if challenge_id == "23581191" %}selected{% endif %}>23581191</option>
                                <option value="239be575" {% if challenge_id == "239be575" %}selected{% endif %}>239be575</option>
                                <option value="23b5c85d" {% if challenge_id == "23b5c85d" %}selected{% endif %}>23b5c85d</option>
                                <option value="253bf280" {% if challenge_id == "253bf280" %}selected{% endif %}>253bf280</option>
                                <option value="25d8a9c8" {% if challenge_id == "25d8a9c8" %}selected{% endif %}>25d8a9c8</option>
                                <option value="29ec7d0e" {% if challenge_id == "29ec7d0e" %}selected{% endif %}>29ec7d0e</option>
                                <option value="63613498" {% if challenge_id == "63613498" %}selected{% endif %}>63613498</option>
                            </select>
                            <button type="submit" class="btn-primary">Load</button>
                        </form>

                        <form action="/step" method="post" class="form-inline">
                            <button type="submit" class="btn-step">Step</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="graph-container">
                <div class="graph-header">Graph Visualization</div>
                <iframe src="/graph" title="Graph Viewer"></iframe>
            </div>
        </div>

        <div class="right-sidebar">
            <div class="data-output">
                <div class="data-header">Debug Output</div>
                {% if data %}
                    <div class="data-content">{{ data }}</div>
                {% else %}
                    <div class="empty-state">No debug output available</div>
                {% endif %}
            </div>
        </div>
    </div>
</body>
</html>